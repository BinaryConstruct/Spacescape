FILE(WRITE .licenseAccepted "license accepted")
IF(UNIX)
	EXECUTE_PROCESS(COMMAND ./configure -library WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR})
	EXECUTE_PROCESS(COMMAND qmake qtpropertybrowser.pro WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR})
	EXECUTE_PROCESS(COMMAND make WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR})
ELSEIF(WIN32)
	EXECUTE_PROCESS(COMMAND configure -library WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR})
	EXECUTE_PROCESS(COMMAND qmake qtpropertybrowser.pro WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR})
	EXECUTE_PROCESS(COMMAND nmake WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR})
ENDIF(UNIX)
FIND_LIBRARY(QtPropertyBrowser_Library QtSolutions_PropertyBrowser-2.5 PATHS lib/)
IF(QtPropertyBrowser_Library-NOTFOUND)
	MESSAGE(FATAL_ERROR "Failed to make QtPropertyBrowser")
ELSE(QtPropertyBrowser_Library-NOTFOUND)
	MESSAGE(STATUS "Successfully made QtPropertyBrowser")
	MESSAGE(${QtPropertyBrowser_Library})
ENDIF(QtPropertyBrowser_Library-NOTFOUND)
